<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>同程旅游国际机票前端团队</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tc-flight-int-web.github.io/"/>
  <updated>2016-07-07T07:02:46.895Z</updated>
  <id>http://tc-flight-int-web.github.io/</id>
  
  <author>
    <name>国际机票前端团队</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>localstorage</title>
    <link href="http://tc-flight-int-web.github.io/2016/07/01/Local-Storage/"/>
    <id>http://tc-flight-int-web.github.io/2016/07/01/Local-Storage/</id>
    <published>2016-07-01T02:38:39.000Z</published>
    <updated>2016-07-07T07:02:46.895Z</updated>
    
    <content type="html">&lt;h2 id=&quot;IndexedDB介绍&quot;&gt;&lt;a href=&quot;#IndexedDB介绍&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB介绍&quot;&gt;&lt;/a&gt;IndexedDB介绍&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;IndexedDB是HTML5规范里新出现的浏览器里内置的数据库。对于在浏览器里存储数据，你可以使用cookies或local storage，但它们都是比较简单的技术，而IndexedDB提供了类似数据库风格的数据存储和使用方式。存储在IndexedDB里的数据是永久保存，不像cookies那样只是临时的。IndexedDB里提供了查询数据的功能，在online和offline模式下都能使用。你可以用IndexedDB存储大型数据。&lt;/p&gt;
&lt;p&gt;IndexedDB里数据以对象的形式存储，每个对象都有一个key值索引。IndexedDB里的操作都是事务性的。一种对象存储在一个objectStore里，objectStore就相当于关系数据库里的表。&lt;strong&gt;IndexedDB&lt;/strong&gt;可以有很多&lt;strong&gt;objectStore&lt;/strong&gt;，&lt;strong&gt;objectStore&lt;/strong&gt;里可以有很多对象。每个对象可以用key值获取。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;IndexedDB-vs-LocalStorage&quot;&gt;&lt;a href=&quot;#IndexedDB-vs-LocalStorage&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB vs LocalStorage&quot;&gt;&lt;/a&gt;IndexedDB vs LocalStorage&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;IndexedDB&lt;/strong&gt;和&lt;strong&gt;LocalStorage&lt;/strong&gt;都是用来在浏览器里存储数据，但它们使用不同的技术，有不同的用途，你需要根据自己的情况适当的选择使用哪种。&lt;strong&gt;LocalStorage&lt;/strong&gt;是用key-value键值模式存储数据，但跟&lt;strong&gt;IndexedDB&lt;/strong&gt;不一样的是，它的数据并不是按对象形式存储。它存储的数据都是字符串形式。如果你想让&lt;strong&gt;LocalStorage&lt;/strong&gt;存储对象，你需要借助&lt;strong&gt;JSON.stringify()&lt;/strong&gt;能将对象变成字符串形式，再用&lt;strong&gt;JSON.parse()&lt;/strong&gt;将字符串还原成对象。但如果要存储大量的复杂的数据，这并不是一种很好的方案。毕竟，&lt;strong&gt;localstorage&lt;/strong&gt;就是专门为小数量数据设计的，它的api是&lt;strong&gt;同步&lt;/strong&gt;的。&lt;/p&gt;
&lt;p&gt;IndexedDB很适合存储大量数据，它的API是&lt;strong&gt;异步调用&lt;/strong&gt;的。&lt;strong&gt;IndexedDB&lt;/strong&gt;使用索引存储数据，各种数据库操作放在事务中执行。&lt;strong&gt;IndexedDB&lt;/strong&gt;甚至还支持简单的数据类型。&lt;strong&gt;IndexedDB&lt;/strong&gt;比&lt;strong&gt;localstorage&lt;/strong&gt;强大得多，但它的API也相对复杂。&lt;/p&gt;
&lt;p&gt;对于简单的数据，你应该继续使用&lt;strong&gt;localstorage&lt;/strong&gt;，但当你希望存储大量数据时，&lt;strong&gt;IndexedDB&lt;/strong&gt;会明显的更适合，&lt;strong&gt;IndexedDB&lt;/strong&gt;能提供你更为复杂的查询数据的方式。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;IndexedDB-vs-Web-SQL&quot;&gt;&lt;a href=&quot;#IndexedDB-vs-Web-SQL&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB vs Web SQL&quot;&gt;&lt;/a&gt;IndexedDB vs Web SQL&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;WebSQL&lt;/strong&gt;也是一种在浏览器里存储数据的技术，跟&lt;strong&gt;IndexedDB&lt;/strong&gt;不同的是，&lt;strong&gt;IndexedDB&lt;/strong&gt;更像是一个&lt;strong&gt;NoSQL&lt;/strong&gt;数据库，而&lt;strong&gt;WebSQL&lt;/strong&gt;更像是&lt;strong&gt;关系型数据库&lt;/strong&gt;，使用SQL查询数据。W3C已经不再支持这种技术。具体情况请看：&lt;a href=&quot;http://www.w3.org/TR/webdatabase&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.w3.org/TR/webdatabase/&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;因为不再支持，所以你就不要在项目中使用这种技术了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;IndexedDB-vs-Cookies&quot;&gt;&lt;a href=&quot;#IndexedDB-vs-Cookies&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB vs Cookies&quot;&gt;&lt;/a&gt;IndexedDB vs Cookies&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Cookies(小甜点)&lt;/strong&gt;听起来很好吃，但实际上并不是。每次HTTP接受和发送都会传递Cookies数据，它会占用额外的流量。例如，如果你有一个&lt;strong&gt;10KB&lt;/strong&gt;的Cookies数据，发送10次请求，那么，总计就会有100KB的数据在网络上传输。&lt;strong&gt;Cookies&lt;/strong&gt;只能是&lt;strong&gt;字符串&lt;/strong&gt;。浏览器里存储Cookies的&lt;strong&gt;空间有限&lt;/strong&gt;，很多用户禁止浏览器使用Cookies。所以，Cookies只能用来存储&lt;strong&gt;小量的非关键的&lt;/strong&gt;数据。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;IndexedDB的用法&quot;&gt;&lt;a href=&quot;#IndexedDB的用法&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB的用法&quot;&gt;&lt;/a&gt;IndexedDB的用法&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;想要理解IndexedDB，最好的方法是创建一个简单的web应用：把一个班的学生的学号和姓名存储在IndexedDB里。IndexedDB里提供了简单的&lt;strong&gt;增、删、改、查&lt;/strong&gt;接口。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;打开一个IndexedDB数据库&quot;&gt;&lt;a href=&quot;#打开一个IndexedDB数据库&quot; class=&quot;headerlink&quot; title=&quot;打开一个IndexedDB数据库&quot;&gt;&lt;/a&gt;打开一个IndexedDB数据库&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;首先，你需要知道你的浏览器是否支持IndexedDB。请使用最新版的谷歌浏览器或火狐浏览器。低版本的IE是不行的。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.mozIndexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.webkitIndexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.msIndexedDB;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;你的浏览器不支持IndexedDB&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;一旦你的浏览器支持IndexedDB，我们就可以打开它。你不能直接打开IndexedDB数据库。IndexedDB需要你创建一个请求来打开它。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB.open(&lt;span class=&quot;string&quot;&gt;&quot;testDB&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;第一个参数是数据库的名称，第二个参数是数据库的版本号。版本号可以在升级数据库时用来调整数据库结构和数据。&lt;/p&gt;
&lt;p&gt;但你增加数据库版本号时，会触发onupgradeneeded事件，这时可能会出现成功、失败和阻止事件三种情况。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; db;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;request.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;打开DB失败&quot;&lt;/span&gt;, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;request.onupgradeneeded   = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Upgrading&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    db = event.target.result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = db.createObjectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;, &amp;#123; keyPath : &lt;span class=&quot;string&quot;&gt;&quot;rollNo&quot;&lt;/span&gt; &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;request.onsuccess  = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;成功打开DB&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    db = event.target.result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;onupgradeneeded事件在第一次打开页面初始化数据库时会被调用，或在当有版本号变化时。所以，你应该在onupgradeneeded函数里创建你的存储数据。如果没有版本号变化，而且页面之前被打开过，你会获得一个onsuccess事件。如果有错误发生时则触发onerror事件。如果你之前没有关闭连接，则会触发onblocked事件。&lt;/p&gt;
&lt;p&gt;在上面的代码片段里，我们创建了一个Object Store，叫做“students”，用“rollNo”做数据键名。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;往ObjectStore里新增对象&quot;&gt;&lt;a href=&quot;#往ObjectStore里新增对象&quot; class=&quot;headerlink&quot; title=&quot;往ObjectStore里新增对象&quot;&gt;&lt;/a&gt;往ObjectStore里新增对象&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;为了往数据库里新增数据，我们首先需要创建一个事务，并要求具有读写权限。在indexedDB里任何的存取对象的操作都需要放在事务里执行。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; transaction = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;],&lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;transaction.oncomplete = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Success&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;transaction.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Error&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = transaction.objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;objectStore.add(&amp;#123;rollNo: rollNo, name: name&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;从ObjectStore里删除对象&quot;&gt;&lt;a href=&quot;#从ObjectStore里删除对象&quot; class=&quot;headerlink&quot; title=&quot;从ObjectStore里删除对象&quot;&gt;&lt;/a&gt;从ObjectStore里删除对象&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;删除跟新增一样，需要创建事务，然后调用删除接口，通过key删除对象。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;],&lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;).objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;).delete(rollNo);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;我把语句合并到了一起，变得更简单，但效果是一样的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;通过key取出对象&quot;&gt;&lt;a href=&quot;#通过key取出对象&quot; class=&quot;headerlink&quot; title=&quot;通过key取出对象&quot;&gt;&lt;/a&gt;通过key取出对象&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;往get()方法里传入对象的key值，取出相应的对象。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;],&lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;).objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;).get(rollNo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;request.onsuccess = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Name : &quot;&lt;/span&gt;+request.result.name);    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;更新一个对象&quot;&gt;&lt;a href=&quot;#更新一个对象&quot; class=&quot;headerlink&quot; title=&quot;更新一个对象&quot;&gt;&lt;/a&gt;更新一个对象&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;为了更新一个对象，首先要把它取出来，修改，然后再放回去。&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; transaction = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;],&lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = transaction.objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request = objectStore.get(rollNo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;request.onsuccess = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Updating : &quot;&lt;/span&gt;+request.result.name + &lt;span class=&quot;string&quot;&gt;&quot; to &quot;&lt;/span&gt; + name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    request.result.name = name;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    objectStore.put(request.result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;完整代码&quot;&gt;&lt;a href=&quot;#完整代码&quot; class=&quot;headerlink&quot; title=&quot;完整代码&quot;&gt;&lt;/a&gt;完整代码&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;为大家更加好的了解整体，下面贴出完整代码&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.mozIndexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.webkitIndexedDB || &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.msIndexedDB;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request, db;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Your Browser does not support IndexedDB&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.indexedDB.open(&lt;span class=&quot;string&quot;&gt;&quot;testDB&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Error opening DB&quot;&lt;/span&gt;, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.onupgradeneeded = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Upgrading&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            db = event.target.result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = db.createObjectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;, &amp;#123;keyPath: &lt;span class=&quot;string&quot;&gt;&quot;rollNo&quot;&lt;/span&gt;&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.onsuccess = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Success opening DB&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            db = event.target.result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#addBtn&quot;&lt;/span&gt;).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name = $(&lt;span class=&quot;string&quot;&gt;&quot;#name&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rollNo = $(&lt;span class=&quot;string&quot;&gt;&quot;#rollno&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; transaction = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        transaction.oncomplete = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Success :)&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            $(&lt;span class=&quot;string&quot;&gt;&quot;#result&quot;&lt;/span&gt;).html(&lt;span class=&quot;string&quot;&gt;&quot;Add : Success&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        transaction.onerror = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;Error :(&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            $(&lt;span class=&quot;string&quot;&gt;&quot;#result&quot;&lt;/span&gt;).html(&lt;span class=&quot;string&quot;&gt;&quot;Add : Error&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = transaction.objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        objectStore.add(&amp;#123;rollNo: rollNo, name: name&amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#removeBtn&quot;&lt;/span&gt;).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rollNo = $(&lt;span class=&quot;string&quot;&gt;&quot;#rollno&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;).objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;).delete(rollNo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#getBtn&quot;&lt;/span&gt;).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rollNo = $(&lt;span class=&quot;string&quot;&gt;&quot;#rollno&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;).objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;).get(rollNo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.onsuccess = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            $(&lt;span class=&quot;string&quot;&gt;&quot;#result&quot;&lt;/span&gt;).html(&lt;span class=&quot;string&quot;&gt;&quot;Name : &quot;&lt;/span&gt; + request.result.name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    $(&lt;span class=&quot;string&quot;&gt;&quot;#updateBtn&quot;&lt;/span&gt;).click(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; rollNo = $(&lt;span class=&quot;string&quot;&gt;&quot;#rollno&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; name = $(&lt;span class=&quot;string&quot;&gt;&quot;#name&quot;&lt;/span&gt;).val();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; transaction = db.transaction([&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;], &lt;span class=&quot;string&quot;&gt;&quot;readwrite&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; objectStore = transaction.objectStore(&lt;span class=&quot;string&quot;&gt;&quot;students&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; request = objectStore.get(rollNo);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        request.onsuccess = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;event&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            $(&lt;span class=&quot;string&quot;&gt;&quot;#result&quot;&lt;/span&gt;).html(&lt;span class=&quot;string&quot;&gt;&quot;Updating : &quot;&lt;/span&gt; + request.result.name + &lt;span class=&quot;string&quot;&gt;&quot; to &quot;&lt;/span&gt; + name);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            request.result.name = name;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            objectStore.put(request.result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://tc-flight-int-web.github.io/localstorage-ppt/&quot;&gt;PPT演示地址&lt;/a&gt;;&lt;a href=&quot;https://tc-flight-int-web.github.io/localstorage-demo&quot;&gt;DEMO演示地址&lt;/a&gt;。如果有任何的问题，请留言。&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;IndexedDB介绍&quot;&gt;&lt;a href=&quot;#IndexedDB介绍&quot; class=&quot;headerlink&quot; title=&quot;IndexedDB介绍&quot;&gt;&lt;/a&gt;IndexedDB介绍&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;IndexedDB是HTML5规范里新出现
    
    </summary>
    
    
      <category term="技术文档" scheme="http://tc-flight-int-web.github.io/tags/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>Hexo书写博客</title>
    <link href="http://tc-flight-int-web.github.io/2016/06/23/Hexo%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2/"/>
    <id>http://tc-flight-int-web.github.io/2016/06/23/Hexo书写博客/</id>
    <published>2016-06-23T01:12:39.000Z</published>
    <updated>2016-07-07T07:02:46.895Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Hexo简介&quot;&gt;&lt;a href=&quot;#Hexo简介&quot; class=&quot;headerlink&quot; title=&quot;Hexo简介&quot;&gt;&lt;/a&gt;Hexo简介&lt;/h2&gt;&lt;p&gt;A fast, simple &amp;amp; powerful blog framework, powered by &lt;a href=&quot;http://nodejs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;工具推荐&quot;&gt;&lt;a href=&quot;#工具推荐&quot; class=&quot;headerlink&quot; title=&quot;工具推荐&quot;&gt;&lt;/a&gt;工具推荐&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;WebStorm&lt;/li&gt;
&lt;li&gt;Visual Studio Code&lt;/li&gt;
&lt;li&gt;MarkdownPad&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;安装步骤&quot;&gt;&lt;a href=&quot;#安装步骤&quot; class=&quot;headerlink&quot; title=&quot;安装步骤&quot;&gt;&lt;/a&gt;安装步骤&lt;/h2&gt;&lt;h5 id=&quot;1-首先得有Node-js&quot;&gt;&lt;a href=&quot;#1-首先得有Node-js&quot; class=&quot;headerlink&quot; title=&quot;1. 首先得有Node.js.&quot;&gt;&lt;/a&gt;1. 首先得有&lt;a href=&quot;http://nodejs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt;.&lt;/h5&gt;&lt;h5 id=&quot;2-其次全局安装hexo&quot;&gt;&lt;a href=&quot;#2-其次全局安装hexo&quot; class=&quot;headerlink&quot; title=&quot;2. 其次全局安装hexo&quot;&gt;&lt;/a&gt;2. 其次全局安装hexo&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ npm install -g hexo&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;3-git-clone-克隆配置完好的Hexo环境&quot;&gt;&lt;a href=&quot;#3-git-clone-克隆配置完好的Hexo环境&quot; class=&quot;headerlink&quot; title=&quot;3. git clone 克隆配置完好的Hexo环境&quot;&gt;&lt;/a&gt;3. git clone 克隆配置完好的Hexo环境&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; git@github.com:TC-Flight-Int-Web/blog.git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; blog&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git pull origin master //获取最新的代码，防止冲突，搞掉其他人文章&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;记住一定要&lt;strong&gt;获取最新的代码&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;4-进入对应目录-安装对应依赖包&quot;&gt;&lt;a href=&quot;#4-进入对应目录-安装对应依赖包&quot; class=&quot;headerlink&quot; title=&quot;4. 进入对应目录,安装对应依赖包&quot;&gt;&lt;/a&gt;4. 进入对应目录,安装对应依赖包&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; blog&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ npm install&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;5-创建一篇文章&quot;&gt;&lt;a href=&quot;#5-创建一篇文章&quot; class=&quot;headerlink&quot; title=&quot;5. 创建一篇文章&quot;&gt;&lt;/a&gt;5. 创建一篇文章&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;Hello Hexo&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Created: [绝对路径]\blog\&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;\_posts\hello-hexo.md&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;6-本地书写文章打开对应目录文件&quot;&gt;&lt;a href=&quot;#6-本地书写文章打开对应目录文件&quot; class=&quot;headerlink&quot; title=&quot;6. 本地书写文章打开对应目录文件&quot;&gt;&lt;/a&gt;6. 本地书写文章打开对应目录文件&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ 打开对应目录文件【[绝对路径]\blog\&lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;\_posts\hello-hexo.md】&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;7-打开markdown，默认情况&quot;&gt;&lt;a href=&quot;#7-打开markdown，默认情况&quot; class=&quot;headerlink&quot; title=&quot;7. 打开markdown，默认情况&quot;&gt;&lt;/a&gt;7. 打开markdown，默认情况&lt;/h5&gt;&lt;p&gt;&lt;img src=&quot;/img/王阳/img1.png&quot; alt=&quot;markdown默认情况&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;title 文章标题&lt;/li&gt;
&lt;li&gt;date 发布时间&lt;/li&gt;
&lt;li&gt;tags 标签&lt;/li&gt;
&lt;li&gt;author 作者&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;8-markdown语法书写&quot;&gt;&lt;a href=&quot;#8-markdown语法书写&quot; class=&quot;headerlink&quot; title=&quot;8. markdown语法书写&quot;&gt;&lt;/a&gt;8. markdown语法书写&lt;/h5&gt;&lt;p&gt;&lt;img src=&quot;/img/王阳/img2.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;添加图片统一路径&lt;br&gt;  &lt;img src=&quot;/img/王阳/img3.png&quot; alt=&quot;保存图片路径&quot;&gt; &lt;/li&gt;
&lt;li&gt;图片添加的语法&lt;br&gt;  &lt;img src=&quot;/img/王阳/img4.png&quot; alt=&quot;图片markdown语法&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;9-启动Hexo-Server-本地查看&quot;&gt;&lt;a href=&quot;#9-启动Hexo-Server-本地查看&quot; class=&quot;headerlink&quot; title=&quot;9. 启动Hexo Server 本地查看&quot;&gt;&lt;/a&gt;9. 启动Hexo Server 本地查看&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo s&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Start processing&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;10-发布文章&quot;&gt;&lt;a href=&quot;#10-发布文章&quot; class=&quot;headerlink&quot; title=&quot;10. 发布文章&quot;&gt;&lt;/a&gt;10. 发布文章&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ hexo clean //清除缓存&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ hexo d&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Deploying: git&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Clearing .deploy_git folder...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Copying files from public folder...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ INFO  Deploy &lt;span class=&quot;keyword&quot;&gt;done&lt;/span&gt;: git&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;发布执行请先hexo clean 清除发布历史数据&lt;/li&gt;
&lt;li&gt;目前发布文章需要手动输入github用户名和密码进行发布&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;11-提交代码，防止其他人搞掉你的文章&quot;&gt;&lt;a href=&quot;#11-提交代码，防止其他人搞掉你的文章&quot; class=&quot;headerlink&quot; title=&quot;11. 提交代码，防止其他人搞掉你的文章&quot;&gt;&lt;/a&gt;11. 提交代码，防止其他人搞掉你的文章&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ git pull origin master&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git add .&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git commit -m &lt;span class=&quot;string&quot;&gt;&quot;文章书写&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;$ git push origin master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Hexo简介&quot;&gt;&lt;a href=&quot;#Hexo简介&quot; class=&quot;headerlink&quot; title=&quot;Hexo简介&quot;&gt;&lt;/a&gt;Hexo简介&lt;/h2&gt;&lt;p&gt;A fast, simple &amp;amp; powerful blog framework, powered 
    
    </summary>
    
    
      <category term="技术文档" scheme="http://tc-flight-int-web.github.io/tags/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>webpack从入门到精通（一）</title>
    <link href="http://tc-flight-int-web.github.io/2016/06/17/webpack%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://tc-flight-int-web.github.io/2016/06/17/webpack从入门到精通（一）/</id>
    <published>2016-06-17T10:23:44.000Z</published>
    <updated>2016-07-07T07:02:46.895Z</updated>
    
    <content type="html">&lt;h2 id=&quot;什么是webpack&quot;&gt;&lt;a href=&quot;#什么是webpack&quot; class=&quot;headerlink&quot; title=&quot;什么是webpack&quot;&gt;&lt;/a&gt;什么是webpack&lt;/h2&gt;&lt;p&gt;事实上它是一个打包工具，而不是像RequireJS或SeaJS这样的模块加载器，通过使用Webpack，能够像Node.js一样处理依赖关系，然后解析出模块之间的依赖，将代码打包&lt;/p&gt;
&lt;h2 id=&quot;webpack安装步骤&quot;&gt;&lt;a href=&quot;#webpack安装步骤&quot; class=&quot;headerlink&quot; title=&quot;webpack安装步骤&quot;&gt;&lt;/a&gt;webpack安装步骤&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;首先得有Node.js&lt;/li&gt;
&lt;li&gt;&lt;p&gt;其次全局安装webpack&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm install -g webpack
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在项目目录中安装webpack和插件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm install —save-dev webpack
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;配置webpack&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;webpack配置&quot;&gt;&lt;a href=&quot;#webpack配置&quot; class=&quot;headerlink&quot; title=&quot;webpack配置&quot;&gt;&lt;/a&gt;webpack配置&lt;/h2&gt;&lt;p&gt;默认使用webpack.config.js&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var path = require(&amp;apos;path&amp;apos;);
module.exports = {
    entry:&amp;apos;./jsx/app.jsx&amp;apos;,
    output:{
        path: path.join(__dirname , &amp;quot;/build&amp;quot;),
        filename:&amp;apos;app.js&amp;apos;
    },
    module:{
        loaders:[
            {
                test:/\.(js|jsx)$/,
                loaders:[&amp;apos;babel&amp;apos;],
                exclude:[path.join(__dirname , &amp;quot;/build&amp;quot;)]
            }
        ]
    }
};
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其中&lt;em&gt;entry&lt;/em&gt;是入口文件，&lt;em&gt;output&lt;/em&gt;是编译后输出文件，&lt;em&gt;module&lt;/em&gt;中&lt;em&gt;loaders&lt;/em&gt;是解析操作&lt;/p&gt;
&lt;p&gt;##未完待续&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;什么是webpack&quot;&gt;&lt;a href=&quot;#什么是webpack&quot; class=&quot;headerlink&quot; title=&quot;什么是webpack&quot;&gt;&lt;/a&gt;什么是webpack&lt;/h2&gt;&lt;p&gt;事实上它是一个打包工具，而不是像RequireJS或SeaJS这样的模块加载
    
    </summary>
    
    
      <category term="分享日志" scheme="http://tc-flight-int-web.github.io/tags/%E5%88%86%E4%BA%AB%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
</feed>
